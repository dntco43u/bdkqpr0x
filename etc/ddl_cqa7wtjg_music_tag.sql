DROP TABLE DEV.MUSIC_TAG PURGE;

CREATE TABLE DEV.MUSIC_TAG (
  "ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE NOT NULL ENABLE
  , "DISC" NUMBER(3, 0) DEFAULT NULL
  , "TOTALDISCS" NUMBER(3, 0) DEFAULT NULL
  , "TRACK" NUMBER(3, 0) DEFAULT NULL
  , "TOTALTRACKS" NUMBER(3, 0) DEFAULT NULL
  , "YEAR" NUMBER(4, 0) DEFAULT NULL
  , "ALBUM" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CONTENTGROUP" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "TITLE" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "ALBUMARTIST" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "ARTIST" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "PUBLISHER" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "GENRE" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "MEDIATYPE" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CREATE_USER" VARCHAR2(8) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CREATE_TIME" TIMESTAMP (0) DEFAULT NULL
  , "UPDATE_USER" VARCHAR2(8) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "UPDATE_TIME" TIMESTAMP (0) DEFAULT NULL
  , PRIMARY KEY ("ID")
  ) TABLESPACE "SAMPLESCHEMA" NOLOGGING;

COMMENT ON TABLE DEV.MUSIC_TAG IS 'bd03_music_tag.csv';
COMMENT ON COLUMN DEV.MUSIC_TAG.ID IS 'ID';
COMMENT ON COLUMN DEV.MUSIC_TAG.DISC IS '디스크 번호';
COMMENT ON COLUMN DEV.MUSIC_TAG.TOTALDISCS IS '전체 디스크';
COMMENT ON COLUMN DEV.MUSIC_TAG.TRACK IS '트랙 번호';
COMMENT ON COLUMN DEV.MUSIC_TAG.TOTALTRACKS IS '전체 트랙';
COMMENT ON COLUMN DEV.MUSIC_TAG.YEAR IS '연도';
COMMENT ON COLUMN DEV.MUSIC_TAG.ALBUM IS '앨범';
COMMENT ON COLUMN DEV.MUSIC_TAG.CONTENTGROUP IS '박스 앨범';
COMMENT ON COLUMN DEV.MUSIC_TAG.TITLE IS '제목';
COMMENT ON COLUMN DEV.MUSIC_TAG.ALBUMARTIST IS '앨범아티스트';
COMMENT ON COLUMN DEV.MUSIC_TAG.ARTIST IS '아티스트';
COMMENT ON COLUMN DEV.MUSIC_TAG.PUBLISHER IS '출판사';
COMMENT ON COLUMN DEV.MUSIC_TAG.GENRE IS '장르';
COMMENT ON COLUMN DEV.MUSIC_TAG.MEDIATYPE IS '미디어 유형';
COMMENT ON COLUMN DEV.MUSIC_TAG.CREATE_USER IS '최초 등록 사용자';
COMMENT ON COLUMN DEV.MUSIC_TAG.CREATE_TIME IS '최초 등록 시간';
COMMENT ON COLUMN DEV.MUSIC_TAG.UPDATE_USER IS '최종 수정 사용자';
COMMENT ON COLUMN DEV.MUSIC_TAG.UPDATE_TIME IS '최종 수정 시간';

SELECT 'ALTER INDEX ' || A.INDEX_NAME || ' RENAME TO MUSIC_TAG_X01;'
FROM ALL_IND_COLUMNS A
  , ALL_INDEXES B
WHERE A.INDEX_NAME = B.INDEX_NAME
  AND A.TABLE_NAME = 'MUSIC_TAG'
  AND A.COLUMN_NAME = 'ID';

DROP TABLE DEV.MUSIC_TAG_COPY PURGE;

CREATE TABLE DEV.MUSIC_TAG_COPY (
  "ID" NUMBER GENERATED BY DEFAULT AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER NOCYCLE NOKEEP NOSCALE NOT NULL ENABLE
  , "DISC" NUMBER(3, 0) DEFAULT NULL
  , "TOTALDISCS" NUMBER(3, 0) DEFAULT NULL
  , "TRACK" NUMBER(3, 0) DEFAULT NULL
  , "TOTALTRACKS" NUMBER(3, 0) DEFAULT NULL
  , "YEAR" NUMBER(4, 0) DEFAULT NULL
  , "ALBUM" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CONTENTGROUP" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "TITLE" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "ALBUMARTIST" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "ARTIST" CLOB COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "PUBLISHER" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "GENRE" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "MEDIATYPE" VARCHAR2(1000) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CREATE_USER" VARCHAR2(8) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "CREATE_TIME" TIMESTAMP (0) DEFAULT NULL
  , "UPDATE_USER" VARCHAR2(8) COLLATE "USING_NLS_COMP" DEFAULT NULL
  , "UPDATE_TIME" TIMESTAMP (0) DEFAULT NULL
  , PRIMARY KEY ("ID")
  ) TABLESPACE "SAMPLESCHEMA" NOLOGGING;

COMMENT ON TABLE DEV.MUSIC_TAG_COPY IS 'bd03_music_tag.csv';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.ID IS 'ID';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.DISC IS '디스크 번호';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.TOTALDISCS IS '전체 디스크';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.TRACK IS '트랙 번호';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.TOTALTRACKS IS '전체 트랙';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.YEAR IS '연도';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.ALBUM IS '앨범';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.CONTENTGROUP IS '박스 앨범';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.TITLE IS '제목';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.ALBUMARTIST IS '앨범아티스트';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.ARTIST IS '아티스트';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.PUBLISHER IS '출판사';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.GENRE IS '장르';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.MEDIATYPE IS '미디어 유형';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.CREATE_USER IS '최초 등록 사용자';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.CREATE_TIME IS '최초 등록 시간';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.UPDATE_USER IS '최종 수정 사용자';
COMMENT ON COLUMN DEV.MUSIC_TAG_COPY.UPDATE_TIME IS '최종 수정 시간';

SELECT 'ALTER INDEX ' || A.INDEX_NAME || ' RENAME TO MUSIC_TAG_COPY_X01;'
FROM ALL_IND_COLUMNS A
  , ALL_INDEXES B
WHERE A.INDEX_NAME = B.INDEX_NAME
  AND A.TABLE_NAME = 'MUSIC_TAG_COPY'
  AND A.COLUMN_NAME = 'ID';
